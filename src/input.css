@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ========== 全局兜底 Reset ========== */
  html, body { 
    @apply bg-bg-page text-body font-sans; 
  } 

  /* ✅ 推荐：只针对你的“受控区域”进行重置 */ 
  /**
 * Controlled Blocks Typography
 * ----------------------------
 * In custom Tailwind blocks, spacing is explicit.
 * We disable GP's default paragraph rhythm (1.5em)
 * to avoid invisible layout gaps.
 */

  .site-content section p, 
  .site-content .max-w-container p { 
      margin-bottom: 0 !important; 
  }

  /* Reset margin for block containers to avoid double spacing */
   .site-main > div,
   .site-main > section {
       margin-bottom: 0 !important;
   }

  /* Alpine.js Cloak */
  [x-cloak] { 
    display: none !important; 
  }

  /* 彻底摧毁侧边栏的占位可能 */
  #primary {
    width: 100% !important;
    float: none !important;
    margin: 0 !important;
  }

  #right-sidebar, .sidebar {
    display: none !important;
    width: 0 !important;
  }

  /* 解锁 GP 的固定宽度容器 */
  .grid-container {
    max-width: 100% !important;
  }

  /* 强制主内容区域为 Block 布局，防止 Flex Row 导致子元素并排 */
  .site-content {
    display: block !important;
  }

  a {
    /* 彻底取消全局链接下划线 */
    text-decoration: none !important;
  }
  
  /* 如果你希望鼠标悬停时也不要有下划线 */
  a:hover {
    text-decoration: none !important;
  }
}

@layer components {
  /* --- Fluent Forms Custom Styling --- */

  /* 1. 基础输入框样式 (Global Input Styles) */
  .fluentform .ff-el-form-control {
    @apply border border-[#E4E7EC] rounded-md px-4 py-3 bg-white text-heading text-[15px] transition-all duration-150 ease-out;
  }

  /* 物理锁定感：Focus 时边框变粗且无模糊阴影 */
  .fluentform .ff-el-form-control:focus {
    @apply border-primary outline-none ring-2 ring-primary/10;
  }

  /* Labels */
  .fluentform .ff-el-input--label {
    @apply font-semibold text-heading mb-2 tracking-[-0.01em] text-sm;
  }

  /* Required Asterisk */
  .fluentform .ff-el-input--label.ff-el-is-required:after {
    content: '*';
    @apply text-[#D92D20] ml-1;
  }

  /* 2. Container 间距优化 (Class: form-row-gap-md) */
  .fluentform .form-row-gap-md {
    @apply mb-6;
  }

  /* 3. 文件上传区域美化 (Class: form-upload-zone) */
  .fluentform .form-upload-zone .ff-upload-btn-wrapper {
    @apply border border-dashed border-[#D0D5DD] rounded-lg bg-[#F9FAFB] py-8 px-5 text-center cursor-pointer transition-all duration-200;
  }

  .fluentform .form-upload-zone .ff-upload-btn-wrapper:hover {
    @apply border-primary bg-[#F0F5FF];
  }

  /* 4. 提交按钮 (Global Submit Button) */
  .fluentform .ff-btn-submit {
    @apply w-full justify-center px-6 py-3.5 font-semibold text-[15px] rounded-md bg-primary text-white tracking-wide transition-colors duration-200;
  }

  .fluentform .ff-btn-submit:hover {
    @apply bg-primary-hover;
  }

  /* 5. 移动端优化 */
  @media (max-width: 768px) {
    .fluentform .ff-t-cell {
      @apply block w-full pr-0 mb-4;
    }
    .fluentform .ff-t-container {
      @apply block;
    }
  }

  /* --- Mission Module Styles --- */

  /* 工业网格背景微纹理 */
  .industrial-grid-bg {
    background-color: #F2F4F7;
    background-image: linear-gradient(rgba(228, 231, 236, 0.5) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(228, 231, 236, 0.5) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* 图片上的技术遮罩层 */
  .tech-overlay::after {
    content: '';
    @apply absolute inset-0 border border-white/10 pointer-events-none z-[5];
    background: linear-gradient(to bottom, transparent 80%, rgba(0, 71, 171, 0.2) 100%);
  }

  /* --- Factory Image Module Styles --- */

  /* 物理锁定框 (Hover State) */
  .bento-card { 
      @apply relative overflow-hidden rounded-card bg-[#F8F9FB] border border-[#E4E7EC] transition-all duration-300 ease-out cursor-zoom-in;
  }
  .bento-card:hover { 
      @apply border-primary shadow-[0_0_0_3px_#0047AB,0_20px_40px_rgba(0,71,171,0.1)] z-10;
  }
  
  /* 图片交互 */
  .bento-card img {
      transition: transform 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  .bento-card:hover img {
      transform: scale(1.05);
  }
  
  /* 数据化标签 */
  .mono-tag { 
      @apply absolute top-4 left-4 font-mono text-[11px] font-bold bg-white/95 backdrop-blur-[4px] px-2 py-1 rounded text-primary border border-primary/10 z-20 uppercase tracking-[-0.02em];
  }
  
  /* 描述遮罩 */
  .card-overlay {
      @apply absolute inset-0 opacity-0 transition-opacity duration-300 z-[8];
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 60%);
  }
  .bento-card:hover .card-overlay {
      opacity: 1;
  }

  .card-info {
      @apply absolute bottom-4 left-4 text-white translate-y-[10px] opacity-0 transition-all duration-300 ease-out delay-100 z-[9];
  }
  .bento-card:hover .card-info {
      transform: translateY(0);
      opacity: 1;
  }


  /* --- Team Module Styles (Leadership) --- */

  /* Title Typography */
  .industrial-h2 { 
    letter-spacing: -0.5px; 
  }

  /* Card Styling (Static, Clean) */
  .team-card { 
    @apply relative border border-[#E4E7EC] bg-white overflow-hidden rounded-xl;
  }

  /* Mono Tag Styling */
  .mono-stat {
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.05em;
  }

  /* --- Header Styles (Custom Overrides) --- */

  /* Alpine.js Cloak */
  [x-cloak] { 
    display: none !important; 
  }

  /* Header Material Column Title Border */
  header .border-b,
  .material-column-heading {
    border-bottom-width: 1px !important;
    border-bottom-style: solid !important;
    border-bottom-color: #E4E7EC !important;
  }

  /* Nav Link Hover Effect */
  .nav-link-hover::after {
    content: ''; 
    @apply absolute bottom-[-2px] left-0 w-0 h-[2px] bg-primary transition-[width] duration-200 ease-out;
  }

  .nav-link-hover:hover::after { 
    @apply w-full; 
  }
}
